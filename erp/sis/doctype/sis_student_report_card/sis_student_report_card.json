{
 "doctype": "DocType",
 "name": "SIS Student Report Card",
 "module": "SIS",
 "istable": 0,
 "engine": "InnoDB",
 "field_order": [
  "title",
  "template_id",
  "form_id",
  "class_id",
  "student_id",
  "school_year",
  "semester_part",
  "status",
  "campus_id",
  "data_json",
  "approval_section",
  "approval_status",
  "is_approved",
  "approved_by",
  "approved_at",
  "approval_history",
  "pdf_file",
  "section_approval_section",
  "homeroom_approval_status",
  "scores_approval_status",
  "approval_tracking_section",
  "submitted_at",
  "submitted_by",
  "column_break_approval_1",
  "level_1_approved_at",
  "level_1_approved_by",
  "column_break_approval_2",
  "level_2_approved_at",
  "level_2_approved_by",
  "column_break_approval_3",
  "reviewed_at",
  "reviewed_by",
  "rejection_section",
  "rejected_at",
  "rejected_by",
  "rejection_reason"
 ],
 "fields": [
  {"fieldname": "title", "fieldtype": "Data", "label": "Tiêu đề", "in_list_view": 1},
  {"fieldname": "template_id", "fieldtype": "Link", "label": "Template", "options": "SIS Report Card Template", "reqd": 1, "in_list_view": 1},
  {"fieldname": "form_id", "fieldtype": "Link", "label": "Form", "options": "SIS Report Card Form", "reqd": 1},
  {"fieldname": "class_id", "fieldtype": "Link", "label": "Lớp", "options": "SIS Class", "reqd": 1, "in_list_view": 1},
  {"fieldname": "student_id", "fieldtype": "Link", "label": "Học sinh", "options": "CRM Student", "reqd": 1, "in_list_view": 1},
  {"fieldname": "school_year", "fieldtype": "Link", "label": "Năm học", "options": "SIS School Year", "reqd": 1},
  {"fieldname": "semester_part", "fieldtype": "Select", "label": "Kì", "options": "Mid Term 1\nEnd Term 1\nMid Term 2\nEnd Term 2", "reqd": 1},
  {"fieldname": "status", "fieldtype": "Select", "label": "Trạng thái", "options": "draft\nlocked\npublished", "default": "draft", "in_list_view": 1},          
  {"fieldname": "campus_id", "fieldtype": "Link", "label": "Trường học", "options": "SIS Campus", "reqd": 1},                                                   
  {"fieldname": "data_json", "fieldtype": "Long Text", "label": "Dữ liệu báo cáo"},
  {"fieldname": "approval_section", "fieldtype": "Section Break", "label": "Phê duyệt"},
  {"fieldname": "approval_status", "fieldtype": "Select", "label": "Trạng thái phê duyệt", "options": "draft\nentry\nsubmitted\nlevel_1_approved\nlevel_2_approved\nreviewed\npublished\nrejected", "default": "draft", "in_list_view": 1, "in_standard_filter": 1},
  {"fieldname": "is_approved", "fieldtype": "Check", "label": "Đã phê duyệt", "default": 0, "in_list_view": 1},
  {"fieldname": "approved_by", "fieldtype": "Link", "label": "Người phê duyệt cuối", "options": "User", "read_only": 1},
  {"fieldname": "approved_at", "fieldtype": "Datetime", "label": "Thời gian phê duyệt cuối", "read_only": 1},
  {"fieldname": "approval_history", "fieldtype": "Long Text", "label": "Lịch sử phê duyệt (JSON)"},
  {"fieldname": "pdf_file", "fieldtype": "Data", "label": "File PDF", "read_only": 1},
  {"fieldname": "section_approval_section", "fieldtype": "Section Break", "label": "Phê duyệt theo Section", "collapsible": 1},
  {"fieldname": "homeroom_approval_status", "fieldtype": "Select", "label": "Trạng thái Homeroom", "options": "draft\nentry\nsubmitted\nlevel_1_approved\nlevel_2_approved\nreviewed\npublished\nrejected", "default": "draft"},
  {"fieldname": "scores_approval_status", "fieldtype": "Select", "label": "Trạng thái Scores/Subject", "options": "draft\nentry\nsubmitted\nlevel_1_approved\nlevel_2_approved\nreviewed\npublished\nrejected", "default": "draft"},
  {"fieldname": "approval_tracking_section", "fieldtype": "Section Break", "label": "Chi tiết phê duyệt", "collapsible": 1},
  {"fieldname": "submitted_at", "fieldtype": "Datetime", "label": "Thời gian Submit", "read_only": 1},
  {"fieldname": "submitted_by", "fieldtype": "Link", "label": "Người Submit", "options": "User", "read_only": 1},
  {"fieldname": "column_break_approval_1", "fieldtype": "Column Break"},
  {"fieldname": "level_1_approved_at", "fieldtype": "Datetime", "label": "Thời gian duyệt L1", "read_only": 1},
  {"fieldname": "level_1_approved_by", "fieldtype": "Link", "label": "Người duyệt L1", "options": "User", "read_only": 1},
  {"fieldname": "column_break_approval_2", "fieldtype": "Column Break"},
  {"fieldname": "level_2_approved_at", "fieldtype": "Datetime", "label": "Thời gian duyệt L2", "read_only": 1},
  {"fieldname": "level_2_approved_by", "fieldtype": "Link", "label": "Người duyệt L2", "options": "User", "read_only": 1},
  {"fieldname": "column_break_approval_3", "fieldtype": "Column Break"},
  {"fieldname": "reviewed_at", "fieldtype": "Datetime", "label": "Thời gian Review L3", "read_only": 1},
  {"fieldname": "reviewed_by", "fieldtype": "Link", "label": "Người Review L3", "options": "User", "read_only": 1},
  {"fieldname": "rejection_section", "fieldtype": "Section Break", "label": "Thông tin trả về", "collapsible": 1},
  {"fieldname": "rejected_at", "fieldtype": "Datetime", "label": "Thời gian trả về", "read_only": 1},
  {"fieldname": "rejected_by", "fieldtype": "Link", "label": "Người trả về", "options": "User", "read_only": 1},
  {"fieldname": "rejection_reason", "fieldtype": "Small Text", "label": "Lý do trả về", "read_only": 1}
 ],
 "permissions": [
  {"role": "System Manager", "read": 1, "write": 1, "create": 1, "delete": 1, "print": 1, "email": 1, "export": 1, "report": 1, "share": 1},
  {"role": "SIS Admin", "read": 1, "write": 1, "create": 1, "delete": 1, "print": 1, "email": 1, "export": 1, "report": 1, "share": 1},
  {"role": "SIS Manager", "read": 1, "write": 1, "create": 1, "delete": 1, "print": 1, "email": 1, "export": 1, "report": 1, "share": 1},
  {"role": "SIS Teacher", "read": 1, "write": 1}
 ],
 "title_field": "title",
 "sort_field": "modified",
 "sort_order": "DESC"
}
